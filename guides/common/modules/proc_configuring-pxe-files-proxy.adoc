[id="configuring-proxy-for-pxe-files_{context}"]
= Configuring proxy for PXE files downloads

For Red Hat content served via CDN, {SmartProxy} downloads PXE files from synced repositories. However when configuring and installing operating system via Installation Media, {SmartProxy} connects directly via `wget` utility.

.Procedure

. On {SmartProxy} with TFTP feature, to verify the ports that are permitted by SELinux for the HTTP cache, enter a command as follows:
+
[options="nowrap",subs="+quotes"]
----
# systemctl edit foreman-proxy
----
+
. Insert the following test into the editor:
+
[options="nowrap",subs="+quotes"]
----
[Service]
Environment="http_proxy=http://proxy.example.com:8888"
Environment="https_proxy=https://proxy.example.com:8888"
----
+
. Save the file, it should appear as `/etc/systemd/system/foreman-proxy.service.d/overrides.conf`.
. Restart the `foreman-proxy` service:
+
[options="nowrap",subs="+quotes"]
----
# systemctl restart foreman-proxy
----
+
. Create a new host or enter Build mode for existing one to redownload PXE files to the TFTP {SmartProxy}.
